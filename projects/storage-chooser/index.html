<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">










<meta name="description" content="Lets user choose between internal or external storage with just few lines of code.">
<meta name="author" content="James Fenn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="generator" content="James Fenn">
<title>codekidX/storage-chooser</title>

<meta name="theme-color" content="#FFFFFF">
<meta name="mobile-web-app-capable" content="yes">
<link rel="manifest" href="/manifest.json">

<meta name="application-name" content="James Fenn">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-tooltip" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="msapplication-config" content="/ieconfig.xml">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="16x16" href="/favicon.ico">
<link rel="icon" sizes="24x24" href="/images/favicon-24.ico">
<link rel="icon" sizes="32x32" href="/images/favicon-32.ico">
<link rel="icon" sizes="48x48" href="/images/favicon-48.ico">
<link rel="icon" sizes="64x64" href="/images/favicon-64.ico">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<meta name="apple-mobile-web-app-title" content="James Fenn">
<link rel="apple-touch-icon-precomposed" href="/images/favicon-152.png">

<link href="https://fonts.googleapis.com/css?family=Miriam+Libre|Roboto|Vollkorn" rel="stylesheet">
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">


<meta name="twitter:card" content="summary">



<meta name="twitter:creator" content="@fennifith">
<meta name="twitter:site" content="@fennifith">

<meta name="twitter:title" content="codekidX/storage-chooser">
<meta name="twitter:description" content="Lets user choose between internal or external storage with just few lines of code.">
<meta name="twitter:image" content="https://jfenn.me/images/me.jpg">

<meta name="og:title" content="codekidX/storage-chooser">

<meta name="og:type" content="website">

<meta name="og:image" content="https://jfenn.me/images/headers/snowytrees.jpg">
<meta name="og:url" content="https://jfenn.me/projects/storage-chooser/">
<meta name="og:description" content="Lets user choose between internal or external storage with just few lines of code.">
<meta name="og:locale" content="en_US">
<meta name="og:site_name" content="James Fenn">



    
        <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/atelier-cave-dark.min.css" rel="stylesheet">
<link href="/css/highlight.css" rel="stylesheet">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/java.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

    
</head>
<body class="sidebar__container">
	<black-lives></black-lives><br>
<script src="https://unpkg.com/i-stand/black-lives.js" type="module"></script>


    <sidebar class="sidebar">
        <h2>Links</h2>
        
        <a class="link" href="https://github.com/fennifith/storage-chooser">
            <object class="link__img" data="https://github.com/favicon.ico" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">GitHub</span>
        </a>
        
        <a class="link" href="https://github.com/fennifith/storage-chooser/issues">
            <object class="link__img" data="/images/ic/bug.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Issues</span>
        </a>
        
        <a class="link" href="https://choosealicense.com/licenses/mpl-2.0/">
            <object class="link__img" data="/images/ic/copyright.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Mozilla Public License 2.0</span>
        </a>
        
        <h2>Contributors</h2>
        
        <a class="link" href="https://github.com/codekidX">
            <object class="link__img--round" data="https://avatars1.githubusercontent.com/u/3619949?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">codekidX</span>
        </a>
        
        <a class="link" href="https://github.com/fennifith">
            <object class="link__img--round" data="https://avatars1.githubusercontent.com/u/13000407?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">fennifith</span>
        </a>
        
        <a class="link" href="https://github.com/mfonville">
            <object class="link__img--round" data="https://avatars0.githubusercontent.com/u/6221544?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">mfonville</span>
        </a>
        
        <a class="link" href="https://github.com/rahulpopuri">
            <object class="link__img--round" data="https://avatars3.githubusercontent.com/u/3193346?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">rahulpopuri</span>
        </a>
        
        <a class="link" href="https://github.com/beatbrot">
            <object class="link__img--round" data="https://avatars1.githubusercontent.com/u/1830332?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">beatbrot</span>
        </a>
        
        
        
        <h2>Contact</h2>
        
        <a class="link" href="https://discord.jfenn.me/">
            <i class="link__img material-icons">group</i>
            <span class="link__title">Discord</span>
        </a>
        
        <a class="link" href="/links/telegram">
            <i class="link__img material-icons">chat</i>
            <span class="link__title">Telegram</span>
        </a>
        
        <a class="link" href="mailto:me@jfenn.me">
            <i class="link__img material-icons">email</i>
            <span class="link__title">E-mail</span>
        </a>
        
        <br><br>
        <div class="--desktop">
            
        </div>
    </sidebar>

    <main class="container">
        <a class="link" href="/#projects">
            <img class="link__img" src="/images/ic/back.svg">
            <span class="link__title">All Projects</span>
        </a>
        <br>

        

        <div class="h-entry">
			
            <div id="content" class="e-content markdown">
                <h1 id="storage-chooser">Storage Chooser</h1>

<p><a href="https://jitpack.io/#codekidX/storage-chooser"><img src="https://jitpack.io/v/codekidX/storage-chooser.svg" alt="" /></a>  <a href="https://github.com/codekidX/storage-chooser/commit/da21db4e5c46e0c3a8b513112ff093448a23754b"><img src="https://img.shields.io/badge/last--stable-da21db4-yellow.svg?style=flat-square" alt="" /></a>  <img src="https://img.shields.io/github/issues/codekidX/storage-chooser.svg?style=flat-square" alt="GitHub issues" />  <a href="https://raw.githubusercontent.com/android-arsenal/apk22/master/5336/app.apk"><img src="https://img.shields.io/badge/download-demo-blue.svg?style=flat-square" alt="demo" /></a>  <a href="https://jitpack.io/com/github/codekidX/storage-chooser/1.0.31/javadoc/"><img src="https://img.shields.io/badge/Jitpack-javadoc-blue.svg?style=flat-square" alt="javadoc" /></a></p>

<p>A pretty and simple directory chooser and file picker library for 4.4+ devices. This library was created to be included in <a href="https://play.google.com/store/apps/details?id=org.opengapps.app">OpenGApps App</a>. There are too many storage chooser out there but this one is too materially :stuck_out_tongue: . Easy to implement and does not take a lot of your valueable time in setting-up all the other necessary things that every developer seeks, like</p>

<ul>
  <li>saving path to sharedPreference</li>
  <li>event when path is selected and act upon that path</li>
  <li>and much more.</li>
</ul>

<p>There are also some really nice features that I thought would come in handy:</p>

<ul>
  <li>You show a quick overview of the storages present and their memory available before choosing so that users know which storage to choose.</li>
  <li>you can choose between <em>sheet and sleek</em> layouts.</li>
  <li>Inline create folder view <em>(not another dialog to handle)</em></li>
  <li>Full localization. I mean literally every strings can be localized to your desired language.</li>
  <li>Memory thresholding - a restriction or a toast that it shows when user’s memory is less than your defined memory for operations.</li>
  <li>and more will be added soon.</li>
</ul>

<h2 id="preview">Preview</h2>

<p><img src="http://i.imgur.com/nmqPJok.gif" alt="SC Features" /></p>

<h2 id="installation">Installation</h2>

<p>Add this to your root build.gradle file under repositories:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>allprojects {
	repositories {
		maven { url "https://jitpack.io" }
	}
}
</code></pre></div></div>

<p>Add this to your app level build.gradle as dependency:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com.github.codekidX:storage-chooser:1.0.31
</code></pre></div></div>

<h2 id="notes">Notes</h2>

<p>Before you implement this library here are some notes that you can follow to avoid errors.</p>

<blockquote>
  <p><strong>Confirm:</strong></p>
</blockquote>

<blockquote>
  <ul>
    <li>You have asked for <strong>Runtime Permission</strong> from the user in the past to avoid read errors.</li>
    <li>Permissions with “READ_EXTERNAL_STORAGE” and “WRITE_EXTERNAL_STORAGE” is enough for this library to work.</li>
    <li>This library follows same color scheme as that of the parent app to maintain the aesthetic of the parent app. <em>See the color scheme section below</em></li>
  </ul>
</blockquote>

<h2 id="implementation">Implementation</h2>

<h3 id="simple-type">Simple Type</h3>

<ul>
  <li>Let’s you toggle between inernal/external root directory.</li>
</ul>

<pre><code class="language-nohighlight">// ~

// Initialize Builder
StorageChooser chooser = new StorageChooser.Builder()
.withActivity(MainActivity.this)
.withFragmentManager(getSupportFragmentManager())
.withMemoryBar(true) 
.build();

// Show dialog whenever you want by
chooser.show();

// get path that the user has chosen
chooser.setOnSelectListener(new StorageChooser.OnSelectListener() {
    @Override
    public void onSelect(String path) {
        Log.e("SELECTED_PATH", path);
    }
});
</code></pre>

<blockquote>
  <p>OUTPUT: <strong>/storage/emulated/0</strong></p>
</blockquote>

<h3 id="pre-defined-type">Pre-defined Type</h3>

<ul>
  <li>Let’s you append a specific path to the root of internal or external directory.</li>
</ul>

<pre><code class="language-nohighlight">// --- ADD --
.withPredefinedPath(STATIC_PATH)
</code></pre>

<blockquote>
  <p>OUTPUT: <strong>/storage/emulated/0/Downloads/CodekidLabs</strong></p>
</blockquote>

<h3 id="custom-type">Custom Type</h3>

<ul>
  <li>Let’s your user choose custom directory/file.</li>
</ul>

<h4 id="directory-chooser">Directory Chooser</h4>

<pre><code class="language-nohighlight">// --- ADD ---
.allowCustomPath(true)
.setType(StorageChooser.DIRECTORY_CHOOSER)
</code></pre>

<h4 id="file-picker">File Picker</h4>

<blockquote>
  <p><strong>NOTE:</strong> File Picker is still –&gt; <em>WIP</em></p>
</blockquote>

<pre><code class="language-nohighlight">// --- ADD ---
.allowCustomPath(true)
.setType(StorageChooser.FILE_PICKER)
</code></pre>

<h3 id="save-directly-to-preference">Save directly to preference</h3>

<pre><code class="language-nohighlight">// --- ADD ---
.actionSave(true)
.withPreference(sharedPreferences)
</code></pre>

<h3 id="get-path-from-preference">Get path from preference</h3>

<pre><code class="language-nohighlight">String path = sharedPreferences.getString(DiskUtil.SC_PREFERENCE_KEY,"");
</code></pre>

<h2 id="localization">Localization</h2>

<p>A seperate localization wiki is posted <a href="https://github.com/codekidX/storage-chooser/wiki/Localizing-your-Chooser">here</a></p>

<h2 id="color-scheme">Color Scheme</h2>

<blockquote>
  <ul>
    <li>Overview header color -&gt;  @colorPrimary</li>
    <li>Memory bar color -&gt; @colorAccent</li>
    <li>Memory available text -&gt; @colorPrimaryDark</li>
    <li>Address bar background -&gt; @colorPrimary</li>
    <li>Select button label color -&gt; @colorPrimaryDark</li>
  </ul>
</blockquote>

<p>For custom color scheme, read <a href="https://github.com/codekidX/storage-chooser/wiki/Custom-color-scheme">Wiki</a></p>

<h2 id="license">LICENSE</h2>

<p>This project is licensed with the Mozilla Public License v2.</p>

<p>In practice, you can use this library as-is, with a notification of it being used. If you make any changes, you are required to publish your changes under a compatible license.</p>

<h3 id="support-storage-chooser">Support Storage Chooser</h3>

<p>This is a community based project so help fixing bugs by adding your fixes to it by clicking <a href="https://github.com/codekidX/storage-chooser/pull/new/master">Create pull request</a></p>

            </div>
            <h4>
                Last updated: <a class="u-url" href="https://jfenn.me/projects/storage-chooser/">
                <time class="dt-published dt-updated" datetime="2017-03-13T01:21:19Z">March 13, 2017</time></a>
            </h4>
        </div>
    </main>
    
    <footer class="footer container" style="padding-bottom: 96px;">
	<hr>

	<div style="display: inline-block; float: right;">
		<input id="darkThemeCheckBox" type="checkbox">
		<label for="darkThemeCheckBox"></label>
		<span>Dark Theme</span>
	</div>
	<script type="text/javascript">
	    const _darkThemeCheckBoxElement = document.getElementById("darkThemeCheckBox");
	    const _darkThemeListeners = [];
	    var _darkTheme = false;
	    
	    function setDarkTheme(isDark) {
	        _darkTheme = isDark;
	        _darkThemeCheckBoxElement.checked = isDark;
			if (isDark) {
				document.body.classList.remove("--theme-light");
				document.body.classList.add("--theme-dark");
			} else {
				document.body.classList.remove("--theme-dark");
				document.body.classList.add("--theme-light");
			}
			
	        let color = isDark ? "#212121" : "#FFFFFF";
	        document.querySelector("meta[name='theme-color']").setAttribute("content", color);

			if (localStorage) {
				if (isDark)
					localStorage.setItem("darkTheme", ".");
				else localStorage.removeItem("darkTheme");
			}

			for (let i in _darkThemeListeners) {
			    _darkThemeListeners[i](isDark);
			}
	    }

	    function addDarkThemeListener(listener) {
	        _darkThemeListeners.push(listener);
	        listener(_darkTheme);
	    }
	    
		_darkThemeCheckBoxElement.addEventListener("change", function() {
			setDarkTheme(_darkThemeCheckBoxElement.checked);
		});

		setDarkTheme(localStorage && localStorage.getItem("darkTheme"));
	</script>
	
	<a class="footer__link" href="/redirects/?t=github&d=${}.github.io" target="_blank">Website Source Code</a>
	<br>
	<a class="footer__link" href="/policies/?web" target="_blank">Privacy Policy</a>
	<br>
	<a class="footer__link" href="/licenses" target="_blank">Open Source Licenses</a>
</footer>

<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>