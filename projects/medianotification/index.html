<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">










<meta name="description" content="Slightly unstable attempt to replace all media notifications with Android O styled copies.">
<meta name="author" content="James Fenn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="generator" content="James Fenn">
<title>Media Notification</title>

<meta name="theme-color" content="#FFFFFF">
<meta name="mobile-web-app-capable" content="yes">
<link rel="manifest" href="/manifest.json">

<meta name="application-name" content="James Fenn">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-tooltip" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="msapplication-config" content="/ieconfig.xml">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="16x16" href="/favicon.ico">
<link rel="icon" sizes="24x24" href="/images/favicon-24.ico">
<link rel="icon" sizes="32x32" href="/images/favicon-32.ico">
<link rel="icon" sizes="48x48" href="/images/favicon-48.ico">
<link rel="icon" sizes="64x64" href="/images/favicon-64.ico">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<meta name="apple-mobile-web-app-title" content="James Fenn">
<link rel="apple-touch-icon-precomposed" href="/images/favicon-152.png">

<link href="https://fonts.googleapis.com/css?family=Miriam+Libre|Roboto|Vollkorn" rel="stylesheet">
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">


<meta name="twitter:card" content="summary">



<meta name="twitter:creator" content="@fennifith">
<meta name="twitter:site" content="@fennifith">

<meta name="twitter:title" content="Media Notification">
<meta name="twitter:description" content="Slightly unstable attempt to replace all media notifications with Android O styled copies.">
<meta name="twitter:image" content="https://raw.githubusercontent.com/fennifith/MediaNotification/master/app/src/main/ic_launcher-web.png">

<meta name="og:title" content="Media Notification">

<meta name="og:type" content="website">

<meta name="og:image" content="https://jfenn.me/images/headers/snowytrees.jpg">
<meta name="og:url" content="https://jfenn.me/projects/medianotification/">
<meta name="og:description" content="Slightly unstable attempt to replace all media notifications with Android O styled copies.">
<meta name="og:locale" content="en_US">
<meta name="og:site_name" content="James Fenn">



    
        <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/atelier-cave-dark.min.css" rel="stylesheet">
<link href="/css/highlight.css" rel="stylesheet">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/java.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

    
</head>
<body class="sidebar__container">
	<black-lives></black-lives><br>
<script src="https://unpkg.com/i-stand/black-lives.js" type="module"></script>


    <sidebar class="sidebar">
        <h2>Links</h2>
        
        <a class="link" href="https://github.com/fennifith/MediaNotification">
            <object class="link__img" data="https://github.com/favicon.ico" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">GitHub</span>
        </a>
        
        <a class="link" href="https://github.com/fennifith/MediaNotification/issues">
            <object class="link__img" data="/images/ic/bug.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Issues</span>
        </a>
        
        <a class="link" href="https://choosealicense.com/licenses/apache-2.0/">
            <object class="link__img" data="/images/ic/copyright.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Apache License 2.0</span>
        </a>
        
        <a class="link" href="https://play.google.com/store/apps/details?id=james.medianotification">
            <object class="link__img" data="/images/ic/play-store.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Google Play</span>
        </a>
        
        <a class="link" href="https://github.com/fennifith/MediaNotification/releases/download/v1.0/MediaNotification.apk">
            <object class="link__img" data="/images/ic/download.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">MediaNotification.apk (v1.0 stable)</span>
        </a>
        
        <h2>Contributors</h2>
        
        <a class="link" href="https://github.com/fennifith">
            <object class="link__img--round" data="https://avatars1.githubusercontent.com/u/13000407?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">fennifith</span>
        </a>
        
        <a class="link" href="https://github.com/BrianValente">
            <object class="link__img--round" data="https://avatars3.githubusercontent.com/u/3992081?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">BrianValente</span>
        </a>
        
        <a class="link" href="https://github.com/fython">
            <object class="link__img--round" data="https://avatars2.githubusercontent.com/u/3166782?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">fython</span>
        </a>
        
        <a class="link" href="https://github.com/jahirfiquitiva">
            <object class="link__img--round" data="https://avatars0.githubusercontent.com/u/10360816?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">jahirfiquitiva</span>
        </a>
        
        
        
        <h2>Contact</h2>
        
        <a class="link" href="https://discord.jfenn.me/">
            <i class="link__img material-icons">group</i>
            <span class="link__title">Discord</span>
        </a>
        
        <a class="link" href="/links/telegram">
            <i class="link__img material-icons">chat</i>
            <span class="link__title">Telegram</span>
        </a>
        
        <a class="link" href="mailto:me@jfenn.me">
            <i class="link__img material-icons">email</i>
            <span class="link__title">E-mail</span>
        </a>
        
        <br><br>
        <div class="--desktop">
            
        </div>
    </sidebar>

    <main class="container">
        <a class="link" href="/#projects">
            <img class="link__img" src="/images/ic/back.svg">
            <span class="link__title">All Projects</span>
        </a>
        <br>

        
        <nav class="nav">
            <button class="nav__item" selected>
                <i class="nav__item__icon material-icons">info</i>
                <span class="nav__item__title">About</span>
            </button>
            
            
            <button class="nav__item" onclick="location.href='docs/';">
                <i class="nav__item__icon material-icons">list_alt</i>
                <span class="nav__item__title">Docs</span>
            </button>
            
        </nav>
        <br>
        

        <div class="h-entry">
			
            <div id="content" class="e-content markdown">
                <p>MediaNotification is a slightly unstable attempt to create Android O styled media notifications. Please note that this app does not replace media notifications coming from other apps, but it creates new notifications on its own. The most common methods of use are as follows:</p>

<p><strong>Option One</strong>
Leave the original music player notifications intact. The app will read its data and create a new notification with fully operational album art and media controls. There should not be any issues using the app this way, provided that the ‘Use Broadcast Receiver’ switch is disabled. If you are using this option on Android Nougat or above, it is reccomended to use the power notifications settings (can be enabled in SystemUI Tuner) to show the music player’s notification at the bottom of the list and hide the icon from the status bar (change the setting to “1”. Setting it to “0” will have the same effect as option two). This has been tested and is working properly on the following music players:</p>
<ul>
  <li>Bandcamp</li>
  <li>BlackPlayer</li>
  <li>Google Chrome (yes, the web browser)</li>
  <li>Google Play Music</li>
  <li>Jair Player</li>
  <li>Phonograph</li>
  <li>PlayerPro</li>
  <li>Pulsar</li>
  <li>Poweramp</li>
  <li>Retro Player</li>
  <li>Shuttle</li>
  <li>Soundcloud</li>
  <li>Spotify</li>
</ul>

<p><strong>Option Two</strong>
Block all notifications from the music players installed on your phone, and enable the switch at the bottom of the settings menu. The app will then obtain all its information from a BroadcastReceiver, and get the album art from either the external storage (if the song is being played locally) or from the last.fm api. When used with this option, the only music player for which the notification still functions completely is Spotify. Most other apps will have problems with the player controls (player controls for unsupported apps are disabled by default, check the ‘Media Controls Method’ setting) and content intents (when the notification is clicked on). However, there are a few apps for which the content intents still function properly:</p>
<ul>
  <li>BlackPlayer</li>
  <li>Phonograph</li>
  <li>Timber</li>
  <li>Jockey</li>
  <li>Jair Player</li>
  <li>Pulsar</li>
  <li>NewPipe</li>
</ul>

<p>As a sort of workaround, it is possible to set a ‘Default Music Player’ for the notification to open if it cannot obtain a content intent any other way.</p>

<p><strong>IMPORTANT:</strong> The following music players require their settings to be modified in order to work properly:</p>
<ul>
  <li>Spotify: Enable “Device Broadcast Status” in the settings menu.</li>
  <li>Shuttle: Turn on last.fm scrobbling (you don’t need to download a scrobbler).</li>
  <li>AIMP: The ‘integrate to lock screen’ setting must be enabled</li>
  <li>Jair Player: ‘Enable Scrobbling’ at the bottom of the settings menu. You will need to install the scrobbler app in order for this to work (uninstalling it will disable the setting).</li>
  <li>NewPipe: support for this player does exist, but is very limited. It is reccomended to turn on ‘Use external audio player’ in NewPipe’s settings menu instead.</li>
  <li>BlackPlayer: Turn on the ‘Scrobble Music’ setting (at the bottom of the ‘Metadata’ section). You do not need to have a scrobbler installed.</li>
</ul>

<p><strong>Option Three</strong>
Somehow install the app on the system partition of your device, and grant it <code class="language-plaintext highlighter-rouge">android.permission.UPDATE_APP_OPS_STATS</code>. This is not possible to do from within the app as the <code class="language-plaintext highlighter-rouge">UPDATE_APP_OPS_STATS</code> permission is protected by the application signature. In other words, you will need to compile a new apk with the same signature as the rest of the system apps first. I am working on a way to bypass this permission and make the third option function with just root access, but it will be a while before it is finished.</p>

<hr />

<p>Unfortunately, this app does not function at all when used with the following music players. This is simply because they either do not use the MediaPlayer API, or they do use it and have prevented other apps from intercepting any information from it.</p>
<ul>
  <li>iHeartRadio</li>
  <li>Rocket Player</li>
</ul>

            </div>
            <h4>
                Last updated: <a class="u-url" href="https://jfenn.me/projects/medianotification/">
                <time class="dt-published dt-updated" datetime="2019-01-08T16:25:31Z">January  8, 2019</time></a>
            </h4>
        </div>
    </main>
    
    <footer class="footer container" style="padding-bottom: 96px;">
	<hr>

	<div style="display: inline-block; float: right;">
		<input id="darkThemeCheckBox" type="checkbox">
		<label for="darkThemeCheckBox"></label>
		<span>Dark Theme</span>
	</div>
	<script type="text/javascript">
	    const _darkThemeCheckBoxElement = document.getElementById("darkThemeCheckBox");
	    const _darkThemeListeners = [];
	    var _darkTheme = false;
	    
	    function setDarkTheme(isDark) {
	        _darkTheme = isDark;
	        _darkThemeCheckBoxElement.checked = isDark;
			if (isDark) {
				document.body.classList.remove("--theme-light");
				document.body.classList.add("--theme-dark");
			} else {
				document.body.classList.remove("--theme-dark");
				document.body.classList.add("--theme-light");
			}
			
	        let color = isDark ? "#212121" : "#FFFFFF";
	        document.querySelector("meta[name='theme-color']").setAttribute("content", color);

			if (localStorage) {
				if (isDark)
					localStorage.setItem("darkTheme", ".");
				else localStorage.removeItem("darkTheme");
			}

			for (let i in _darkThemeListeners) {
			    _darkThemeListeners[i](isDark);
			}
	    }

	    function addDarkThemeListener(listener) {
	        _darkThemeListeners.push(listener);
	        listener(_darkTheme);
	    }
	    
		_darkThemeCheckBoxElement.addEventListener("change", function() {
			setDarkTheme(_darkThemeCheckBoxElement.checked);
		});

		setDarkTheme(localStorage && localStorage.getItem("darkTheme"));
	</script>
	
	<a class="footer__link" href="/redirects/?t=github&d=${}.github.io" target="_blank">Website Source Code</a>
	<br>
	<a class="footer__link" href="/policies/?web" target="_blank">Privacy Policy</a>
	<br>
	<a class="footer__link" href="/licenses" target="_blank">Open Source Licenses</a>
</footer>

<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>