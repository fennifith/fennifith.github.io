<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">










<meta name="description" content="A Discord bot that automates github-related tasks for my server.">
<meta name="author" content="James Fenn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="generator" content="James Fenn">
<title>Discord Github Thing Doer</title>

<meta name="theme-color" content="#FFFFFF">
<meta name="mobile-web-app-capable" content="yes">
<link rel="manifest" href="/manifest.json">

<meta name="application-name" content="James Fenn">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-tooltip" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="msapplication-config" content="/ieconfig.xml">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="16x16" href="/favicon.ico">
<link rel="icon" sizes="24x24" href="/images/favicon-24.ico">
<link rel="icon" sizes="32x32" href="/images/favicon-32.ico">
<link rel="icon" sizes="48x48" href="/images/favicon-48.ico">
<link rel="icon" sizes="64x64" href="/images/favicon-64.ico">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<meta name="apple-mobile-web-app-title" content="James Fenn">
<link rel="apple-touch-icon-precomposed" href="/images/favicon-152.png">

<link href="https://fonts.googleapis.com/css?family=Miriam+Libre|Roboto|Vollkorn" rel="stylesheet">
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">


<meta name="twitter:card" content="summary">



<meta name="twitter:creator" content="@fennifith">
<meta name="twitter:site" content="@fennifith">

<meta name="twitter:title" content="Discord Github Thing Doer">
<meta name="twitter:description" content="A Discord bot that automates github-related tasks for my server.">
<meta name="twitter:image" content="https://raw.githubusercontent.com/fennifith/discord-github-thing-doer/master/.github/logo-circle.png">

<meta name="og:title" content="Discord Github Thing Doer">

<meta name="og:type" content="website">

<meta name="og:image" content="https://jfenn.me/images/headers/snowytrees.jpg">
<meta name="og:url" content="https://jfenn.me/projects/discord-github-thing-doer/">
<meta name="og:description" content="A Discord bot that automates github-related tasks for my server.">
<meta name="og:locale" content="en_US">
<meta name="og:site_name" content="James Fenn">



    
        <link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/atelier-cave-dark.min.css" rel="stylesheet">
<link href="/css/highlight.css" rel="stylesheet">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/javascript.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/shell.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

    
</head>
<body class="sidebar__container">
	<black-lives></black-lives><br>
<script src="https://unpkg.com/i-stand/black-lives.js" type="module"></script>


    <sidebar class="sidebar">
        <h2>Links</h2>
        
        <a class="link" href="https://github.com/fennifith/discord-github-thing-doer">
            <object class="link__img" data="https://github.com/favicon.ico" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">GitHub</span>
        </a>
        
        <a class="link" href="https://github.com/fennifith/discord-github-thing-doer/issues">
            <object class="link__img" data="/images/ic/bug.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Issues</span>
        </a>
        
        <a class="link" href="https://choosealicense.com/licenses/apache-2.0/">
            <object class="link__img" data="/images/ic/copyright.svg" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Apache License 2.0</span>
        </a>
        
        <a class="link" href="https://discord.jfenn.me/">
            <object class="link__img" data="https://jfenn.me/images/favicon-32.ico" type="image/png">
                <img class="link__img" src="/images/ic/link.svg">
            </object>
            <span class="link__title">Website</span>
        </a>
        
        <h2>Contributors</h2>
        
        <a class="link" href="https://github.com/fennifith">
            <object class="link__img--round" data="https://avatars1.githubusercontent.com/u/13000407?v=4" type="image/png">
                <img class="link__img--round" src="/images/ic/person.svg">
            </object>
            <span class="link__title">fennifith</span>
        </a>
        
        
        
        <h2>Contact</h2>
        
        <a class="link" href="https://discord.jfenn.me/">
            <i class="link__img material-icons">group</i>
            <span class="link__title">Discord</span>
        </a>
        
        <a class="link" href="/links/telegram">
            <i class="link__img material-icons">chat</i>
            <span class="link__title">Telegram</span>
        </a>
        
        <a class="link" href="mailto:me@jfenn.me">
            <i class="link__img material-icons">email</i>
            <span class="link__title">E-mail</span>
        </a>
        
        <br><br>
        <div class="--desktop">
            
        </div>
    </sidebar>

    <main class="container">
        <a class="link" href="/#projects">
            <img class="link__img" src="/images/ic/back.svg">
            <span class="link__title">All Projects</span>
        </a>
        <br>

        

        <div class="h-entry">
			
            <div id="content" class="e-content markdown">
                <p>The <code class="language-plaintext highlighter-rouge">discord-github-thing-doer</code> is a WIP Discord bot that does github-related things. It is primarily for personal use, but I’m open-sourcing it because… why not. You can see it in action in the Discord server below.</p>

<p><a href="https://discord.gg/KPqbBjS"><img src="https://img.shields.io/discord/514625116706177035.svg" alt="Discord" /></a></p>

<table>
  <thead>
    <tr>
      <th>GitHub</th>
      <th>Travis</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://github.com/fennifith/discord-github-thing-doer/blob/master/./.github/logo.png?raw=true" alt="GitHub Discord Logo" /></td>
      <td><img src="https://github.com/fennifith/discord-github-thing-doer/blob/master/./.github/travis-logo.png?raw=true" alt="Travis Discord Logo" /></td>
    </tr>
  </tbody>
</table>

<p>^ <code class="language-plaintext highlighter-rouge">github-thing-doer</code>’s awesome logo by <a href="https://twitter.com/rjt_rockx">rjt</a> (Travis variant by me)</p>

<h2 id="usage">Usage</h2>

<p>The program is split into two bot accounts, one for GitHub and one for Travis, that both share configuration files located in <code class="language-plaintext highlighter-rouge">~/.config/discord-github-thing-doer/*</code>. Despite being written independently, in terms of functionality the Travis module is seen as a sort of “plugin” for the GitHub bot; most of the Travis functionality requires the GitHub bot to already be set up. As such, the GitHub bot is also in charge of handling general functionality such as ending the process if the <code class="language-plaintext highlighter-rouge">restart</code> command is sent.</p>

<p>Several commands can be used to invoke the GitHub bot to perform various actions:</p>

<pre><code class="language-nohighlight">!github sync &lt;user/repo&gt; [category]	Creates channels under [category], the first category
					with the name 'projects', or 'uncategorized' (prioritized
					in that order) linked to a specified user's GitHub repos
					(or to the specified repo) via webhooks.

!github auth [token]			Verifies a user's GitHub account and assigns the 'github-auth'
					role accordingly.

!github auth &lt;username&gt; gist		Verifies a user's GitHub account and does the same as the normal
					'auth' command, but verifies their account through the creation of
					a gist instead of using GitHub's OAuth APIs.

!github whois &lt;user&gt;			Outputs the user's verified identity, if any; passing an @mention
					or GitHub login should both result in the same output.

!github ls contributors			Lists the contributors to the repository that the current channel
					is linked to, if any.

!github help				Displays this beautiful message.
</code></pre>

<p>The Travis bot responds to a few commands as well:</p>

<pre><code class="language-nohighlight">!travis sync				Creates a webhook for Travis deployments in each channel that
					is linked to a GitHub repository; `!github sync` must be run
					before this is used. The webhook URL will be set as the
					'DISCORD_WEBHOOK' environment variable in Travis for each
					repository.

!travis help				Displays this beautiful message.
</code></pre>

<p>And finally,</p>

<pre><code class="language-nohighlight">!thing-doer server			Output information about the server, such as the CPU, current user,
					uptime, memory, etc.

!thing-doer restart			Ends the process that the bot is running on; particularly useful
					if the bot is run in a loop of `git pull; npm install; node index.js`
					so it can be restarted to pull the latest source code automatically.

!thing-doer help			Displays this beautiful message.
</code></pre>

            </div>
            <h4>
                Last updated: <a class="u-url" href="https://jfenn.me/projects/discord-github-thing-doer/">
                <time class="dt-published dt-updated" datetime="2019-03-30T20:44:16Z">March 30, 2019</time></a>
            </h4>
        </div>
    </main>
    
    <footer class="footer container" style="padding-bottom: 96px;">
	<hr>

	<div style="display: inline-block; float: right;">
		<input id="darkThemeCheckBox" type="checkbox">
		<label for="darkThemeCheckBox"></label>
		<span>Dark Theme</span>
	</div>
	<script type="text/javascript">
	    const _darkThemeCheckBoxElement = document.getElementById("darkThemeCheckBox");
	    const _darkThemeListeners = [];
	    var _darkTheme = false;
	    
	    function setDarkTheme(isDark) {
	        _darkTheme = isDark;
	        _darkThemeCheckBoxElement.checked = isDark;
			if (isDark) {
				document.body.classList.remove("--theme-light");
				document.body.classList.add("--theme-dark");
			} else {
				document.body.classList.remove("--theme-dark");
				document.body.classList.add("--theme-light");
			}
			
	        let color = isDark ? "#212121" : "#FFFFFF";
	        document.querySelector("meta[name='theme-color']").setAttribute("content", color);

			if (localStorage) {
				if (isDark)
					localStorage.setItem("darkTheme", ".");
				else localStorage.removeItem("darkTheme");
			}

			for (let i in _darkThemeListeners) {
			    _darkThemeListeners[i](isDark);
			}
	    }

	    function addDarkThemeListener(listener) {
	        _darkThemeListeners.push(listener);
	        listener(_darkTheme);
	    }
	    
		_darkThemeCheckBoxElement.addEventListener("change", function() {
			setDarkTheme(_darkThemeCheckBoxElement.checked);
		});

		setDarkTheme(localStorage && localStorage.getItem("darkTheme"));
	</script>
	
	<a class="footer__link" href="/redirects/?t=github&d=${}.github.io" target="_blank">Website Source Code</a>
	<br>
	<a class="footer__link" href="/policies/?web" target="_blank">Privacy Policy</a>
	<br>
	<a class="footer__link" href="/licenses" target="_blank">Open Source Licenses</a>
</footer>

<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>