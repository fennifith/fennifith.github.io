<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">










<meta name="description" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="author" content="James Fenn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="generator" content="James Fenn">
<title>Custom Themes</title>

<meta name="theme-color" content="#FFFFFF">
<meta name="mobile-web-app-capable" content="yes">
<link rel="manifest" href="/manifest.json">

<meta name="application-name" content="James Fenn">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-tooltip" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="msapplication-config" content="/ieconfig.xml">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="16x16" href="/favicon.ico">
<link rel="icon" sizes="24x24" href="/images/favicon-24.ico">
<link rel="icon" sizes="32x32" href="/images/favicon-32.ico">
<link rel="icon" sizes="48x48" href="/images/favicon-48.ico">
<link rel="icon" sizes="64x64" href="/images/favicon-64.ico">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<meta name="apple-mobile-web-app-title" content="James Fenn">
<link rel="apple-touch-icon-precomposed" href="/images/favicon-152.png">

<link href="https://fonts.googleapis.com/css?family=Miriam+Libre|Roboto|Vollkorn" rel="stylesheet">
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">


<meta name="twitter:card" content="summary">



<meta name="twitter:creator" content="@fennifith">
<meta name="twitter:site" content="@fennifith">

<meta name="twitter:title" content="Custom Themes">
<meta name="twitter:description" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="twitter:image" content="https://jfenn.me/images/me.jpg">

<meta name="og:title" content="Custom Themes">

<meta name="og:type" content="website">

<meta name="og:image" content="https://jfenn.me/images/headers/snowytrees.jpg">
<meta name="og:url" content="https://jfenn.me/projects/attribouter/wiki/Custom-Themes.html">
<meta name="og:description" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="og:locale" content="en_US">
<meta name="og:site_name" content="James Fenn">



	<link href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/atelier-cave-dark.min.css" rel="stylesheet">
<link href="/css/highlight.css" rel="stylesheet">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/kotlin.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/java.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/languages/shell.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>

</head>
<body class="sidebar__container">
	<black-lives></black-lives><br>
<script src="https://unpkg.com/i-stand/black-lives.js" type="module"></script>


	<sidebar class="sidebar">
		
		<h2 id="tutorials">Tutorials</h2>

<ul>
  <li><a href="./The-Configuration-File">The Configuration File</a></li>
  <li><a href="./Overriding-Resources-and-Providing-Translations">Overriding Resources and Providing Translations</a></li>
  <li><a href="./Extending-a-Wedge">Extending A Wedge</a></li>
  <li><a href="./Custom-Themes">Custom Themes</a></li>
</ul>

<h2 id="docs">Docs</h2>

<ul>
  <li><a href="./AppWedge">AppWedge</a></li>
  <li><a href="./ContributorsWedge">ContributorsWedge</a>
    <ul>
      <li><a href="./ContributorWedge">ContributorWedge</a></li>
    </ul>
  </li>
  <li><a href="./LicensesWedge">LicensesWedge</a>
    <ul>
      <li><a href="./LicenseWedge">LicenseWedge</a></li>
    </ul>
  </li>
  <li><a href="./TranslatorsWedge">TranslatorsWedge</a>
    <ul>
      <li><a href="./TranslatorWedge">TranslatorWedge</a></li>
    </ul>
  </li>
  <li><a href="./TextWedge">TextWedge</a></li>
  <li><a href="./LinkWedge">LinkWedge</a>
    <ul>
      <li><a href="./LinkWedge#email">EmailLinkWedge</a></li>
      <li><a href="./LinkWedge#license">LicenseLinkWedge</a></li>
      <li><a href="./LinkWedge#play-store">PlayStoreLinkWedge</a></li>
    </ul>
  </li>
</ul>

<h2 id="automation">Automation</h2>

<ul>
  <li><a href="./Fetching-CrowdIn-Translations">Fetching CrowdIn Translations</a> by <a href="https://github.com/deletescape">@deletescape</a></li>
</ul>

	</sidebar>
	<main class="container">
		
		<a class="link" href="./">
			<img class="link__img" src="/images/ic/back.svg">
			<span class="link__title">Wiki Home</span>
		</a>
		
		<br>
		<h1>Custom Themes</h1>
		<div class="markdown">
			<h2 id="activity--dialog-themes">Activity / Dialog Themes</h2>

<p>By default, Attribouter uses an extension of <code class="language-plaintext highlighter-rouge">Theme.MaterialComponents.Light.NoActionBar</code> as its activity theme, with a <code class="language-plaintext highlighter-rouge">-night</code> override to provide a dark themed version for Android Q and above. The contributor and license dialogs use <code class="language-plaintext highlighter-rouge">ThemeOverlay.MaterialComponents.Dialog.Alert</code>, and fullscreen dialogs (overflow screens) use an extension of the activity theme with a different window animation.</p>

<p>There are multiple ways that you can change these themes, but I know that this one works, so I am going to do this. If you are using Attribouter as a fragment, you can skip the first part since it will use whatever theme you have set for the activity that the fragment is in.</p>

<h3 id="overriding-resource-values">Overriding Resource Values</h3>

<p>Attribouter constructs its day/night themes from a set of resource attributes that can be overridden in your app. These are fairly self-explanatory, so I’ll just paste a list of them below.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Default Themed Colors --&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorPrimary"</span><span class="nt">&gt;</span>#3F51B5<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorPrimaryDark"</span><span class="nt">&gt;</span>#303F9F<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorAccent"</span><span class="nt">&gt;</span>#FF4081<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorAccent"</span><span class="nt">&gt;</span>@color/attribouter_colorPrimary<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_cardColor"</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_windowBackgroundColor"</span><span class="nt">&gt;</span>#F5F5F5<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_windowInsetColor"</span><span class="nt">&gt;</span>#E0E0E0<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_highlightColor"</span><span class="nt">&gt;</span>#1F000000<span class="nt">&lt;/color&gt;</span>

<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorPrimary_night"</span><span class="nt">&gt;</span>#D9DEff<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorPrimaryDark_night"</span><span class="nt">&gt;</span>#BAC2F5<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_colorAccent_night"</span><span class="nt">&gt;</span>#FFABC7<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorAccent_night"</span><span class="nt">&gt;</span>@color/attribouter_colorPrimary_night<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_cardColor_night"</span><span class="nt">&gt;</span>#303030<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_windowBackgroundColor_night"</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_windowInsetColor_night"</span><span class="nt">&gt;</span>#212121<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_highlightColor_night"</span><span class="nt">&gt;</span>#33FFFFFF<span class="nt">&lt;/color&gt;</span>

<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorPrimary"</span><span class="nt">&gt;</span>#DE000000<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorSecondary"</span><span class="nt">&gt;</span>#8A000000<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorTertiary"</span><span class="nt">&gt;</span>#61000000<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorPrimaryInverse"</span><span class="nt">&gt;</span>#FFFFFF<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorSecondaryInverse"</span><span class="nt">&gt;</span>#B3FFFFFF<span class="nt">&lt;/color&gt;</span>
<span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"attribouter_textColorTertiaryInverse"</span><span class="nt">&gt;</span>#80FFFFFF<span class="nt">&lt;/color&gt;</span>

<span class="c">&lt;!-- Default Dimension Attributes --&gt;</span>
<span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">"attribouter_cardCornerRadius"</span><span class="nt">&gt;</span>8dp<span class="nt">&lt;/dimen&gt;</span>
</code></pre></div></div>

<h3 id="overriding-the-activity-theme">Overriding the Activity Theme</h3>

<p>First, add a new style resource to your <code class="language-plaintext highlighter-rouge">styles.xml</code> titled “AttribouterTheme”. This will override the theme defined by Attribouter that it uses by default. The theme’s parent should be “Theme.MaterialComponents.something”, preferably ending with “.NoActionBar” since Attribouter’s activity has one of its own. For example, if you wanted to use a dark theme, you would use <code class="language-plaintext highlighter-rouge">Theme.MaterialComponents.NoActionBar</code> as follows:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;resources&gt;</span>
  <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"AttribouterTheme"</span> <span class="na">parent=</span><span class="s">"Theme.MaterialComponents.NoActionBar"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</code></pre></div></div>

<p>If you start Attribouter now, it should use a dark theme for the activity and all of its dialogs. What if you want to use a different theme for the dialogs than the activity, though?</p>

<h3 id="changing-dialog-themes">Changing Dialog Themes</h3>

<p>There are three custom attributes that Attribouter looks for in the activity theme to tell it what themes to use for its dialogs: <code class="language-plaintext highlighter-rouge">attribouter_personDialogTheme</code>, <code class="language-plaintext highlighter-rouge">attribouter_overflowDialogTheme</code>, and <code class="language-plaintext highlighter-rouge">attribouter_licenseDialogTheme</code>. Let’s try changing the contributor dialogs back to a light theme, keeping the rest of Attribouter dark.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;resources&gt;</span>
  <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"AttribouterTheme"</span> <span class="na">parent=</span><span class="s">"Theme.AppCompat.NoActionBar"</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"personDialogTheme"</span><span class="nt">&gt;</span>@style/PersonDialogTheme<span class="nt">&lt;/item&gt;</span>
  <span class="nt">&lt;/style&gt;</span>
  
  <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"PersonDialogTheme"</span> <span class="na">parent=</span><span class="s">"ThemeOverlay.AppCompat.Dialog"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</code></pre></div></div>

<p>Yep, that works.</p>

<h2 id="overriding-layouts">Overriding Layouts</h2>

<p>While this is partially obsolete since <a href="Extending-a-Wedge">subwedging</a> is a far cleaner and better solution, it is possible to override some of Attribouter’s <a href="https://jfenn.me/redirects/?t=github&amp;d=Attribouter/tree/91ff71a11338cc501c332b82ba8ddd6fa042bd24/attribouter/src/main/res/layout">layout files</a> for small changes (ex: making the circular avatars square). Most of the custom views used in these layout files are only casted to their superclasses (me.jfenn.attribouter.views.CircleImageView is only referenced as an ImageView), so as long as the ids remain the same there should not be any problems.</p>

		</div>
	</main>

	<footer class="footer container" style="padding-bottom: 96px;">
	<hr>

	<div style="display: inline-block; float: right;">
		<input id="darkThemeCheckBox" type="checkbox">
		<label for="darkThemeCheckBox"></label>
		<span>Dark Theme</span>
	</div>
	<script type="text/javascript">
	    const _darkThemeCheckBoxElement = document.getElementById("darkThemeCheckBox");
	    const _darkThemeListeners = [];
	    var _darkTheme = false;
	    
	    function setDarkTheme(isDark) {
	        _darkTheme = isDark;
	        _darkThemeCheckBoxElement.checked = isDark;
			if (isDark) {
				document.body.classList.remove("--theme-light");
				document.body.classList.add("--theme-dark");
			} else {
				document.body.classList.remove("--theme-dark");
				document.body.classList.add("--theme-light");
			}
			
	        let color = isDark ? "#212121" : "#FFFFFF";
	        document.querySelector("meta[name='theme-color']").setAttribute("content", color);

			if (localStorage) {
				if (isDark)
					localStorage.setItem("darkTheme", ".");
				else localStorage.removeItem("darkTheme");
			}

			for (let i in _darkThemeListeners) {
			    _darkThemeListeners[i](isDark);
			}
	    }

	    function addDarkThemeListener(listener) {
	        _darkThemeListeners.push(listener);
	        listener(_darkTheme);
	    }
	    
		_darkThemeCheckBoxElement.addEventListener("change", function() {
			setDarkTheme(_darkThemeCheckBoxElement.checked);
		});

		setDarkTheme(localStorage && localStorage.getItem("darkTheme"));
	</script>
	
	<a class="footer__link" href="/redirects/?t=github&d=${}.github.io" target="_blank">Website Source Code</a>
	<br>
	<a class="footer__link" href="/policies/?web" target="_blank">Privacy Policy</a>
	<br>
	<a class="footer__link" href="/licenses" target="_blank">Open Source Licenses</a>
</footer>

<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
</body>
</html>
	