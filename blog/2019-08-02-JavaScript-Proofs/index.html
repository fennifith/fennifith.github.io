<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript: Productivity over Proof – James Fenn's Blog</title>
    <meta charset="utf-8">










<meta name="description" content="In the vast majority everyday software, nobody writes a mathematical proof of every piece of functionality. Dynamically typed languages exist for a reason, and this is not it.">
<meta name="author" content="James Fenn">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="generator" content="James Fenn">
<title>JavaScript: Productivity over Proof</title>

<meta name="theme-color" content="#FFFFFF">
<meta name="mobile-web-app-capable" content="yes">
<link rel="manifest" href="/manifest.json">

<meta name="application-name" content="James Fenn">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-tooltip" content="Writer of bad puns and slightly better software. This website contains information about my adventures in programming, current projects, and me.">
<meta name="msapplication-config" content="/ieconfig.xml">

<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" sizes="16x16" href="/favicon.ico">
<link rel="icon" sizes="24x24" href="/images/favicon-24.ico">
<link rel="icon" sizes="32x32" href="/images/favicon-32.ico">
<link rel="icon" sizes="48x48" href="/images/favicon-48.ico">
<link rel="icon" sizes="64x64" href="/images/favicon-64.ico">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="white">
<meta name="apple-mobile-web-app-title" content="James Fenn">
<link rel="apple-touch-icon-precomposed" href="/images/favicon-152.png">

<link href="https://fonts.googleapis.com/css?family=Miriam+Libre|Roboto|Vollkorn" rel="stylesheet">
<link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="/css/styles.css" rel="stylesheet">


<meta name="twitter:card" content="summary">



<meta name="twitter:creator" content="@fennifith">
<meta name="twitter:site" content="@fennifith">

<meta name="twitter:title" content="JavaScript: Productivity over Proof">
<meta name="twitter:description" content="In the vast majority everyday software, nobody writes a mathematical proof of every piece of functionality. Dynamically typed languages exist for a reason, and this is not it.">
<meta name="twitter:image" content="https://jfenn.me/images/me.jpg">

<meta name="og:title" content="JavaScript: Productivity over Proof">

<meta name="og:type" content="article">
<meta name="article:published_time" content="2019-08-02 00:00:00 +0000">
<meta name="article:author" content="James Fenn">

<meta name="og:image" content="https://jfenn.me/images/headers/snowytrees.jpg">
<meta name="og:url" content="https://jfenn.me/blog/2019-08-02-JavaScript-Proofs/">
<meta name="og:description" content="In the vast majority everyday software, nobody writes a mathematical proof of every piece of functionality. Dynamically typed languages exist for a reason, and this is not it.">
<meta name="og:locale" content="en_US">
<meta name="og:site_name" content="James Fenn">



  </head>
  <body>
	<black-lives></black-lives><br>
<script src="https://unpkg.com/i-stand/black-lives.js" type="module"></script>


    <main id="main" role="main" class="container">
      <a class="link" href="/#blog">
        <img class="link__img" src="/images/ic/back.svg">
        <span class="link__title">All Blogs</span>
      </a>
      <br>
      <article class="h-entry post" style="max-width: 1000px;">
		<h1 class="text__title p-name">JavaScript: Productivity over Proof</h1>
		<p class="text__meta">
			<a class="p-author h-card" href="https://jfenn.me">James Fenn</a> | 
			<a class="u-url" href="https://jfenn.me/blog/2019-08-02-JavaScript-Proofs/">
			<time class="dt-published" datetime="2019-08-02 00:00:00 +0000">August  2, 2019</time></a>
		</p>

		<p>
		
      	
      	<a class="link link--chip" href="https://www.typescriptlang.org/">
        	<object class="link__img" data="undefined" type="image/png">
          		<img class="link__img" src="/images/ic/link.svg">
        	</object>
        	<span class="link__title">TypeScript</span>
      	</a>
      	
      	<a class="link link--chip" href="https://j11y.io/javascript/truthy-falsey/">
        	<object class="link__img" data="undefined" type="image/png">
          		<img class="link__img" src="/images/ic/link.svg">
        	</object>
        	<span class="link__title">Truthy and Falsey - James Padolsey</span>
      	</a>
      	
      	<a class="link link--chip" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">
        	<object class="link__img" data="undefined" type="image/png">
          		<img class="link__img" src="/images/ic/link.svg">
        	</object>
        	<span class="link__title">Destructuring Assignment - MDN</span>
      	</a>
      	
		
		</p>
		
		<br>

        <div class="e-content entry markdown">
          
          <p>I’ll keep this blog post short, but this is in response to a conversation about
testing and proving code written in JavaScript as opposed to more so-called
“conventional languages” such as SML, Haskell, or OCaml.</p>

<p>The preface is that dynamically typed programs and languages are inherently
fallible by nature, especially in a large codebase, as it makes it nearly
impossible to create a “proof of correctness”. Dynamic typing creates failures
that can only be seen upon execution of the code, not compilation, allowing
errors to pass through that might not be caught during testing.</p>

<p>Since scripting languages have no compilation phase, they rely entirely on tests
and linting to enforce proper use and prevent errors, but loose typing makes
this inherently difficult to do. In a language where <code class="language-plaintext highlighter-rouge">2 == "2"</code>, concepts such
as referential transparency are impossible to attain. In C, this is equivalent
to every function returning a <code class="language-plaintext highlighter-rouge">void*</code> with no static method of enforcing its
type or that it even exists.</p>

<h2 id="why-this-is-okay">Why This is Okay</h2>

<p>Now, there are several obvious rebuttals that I could make here, but I’ll start
with this: <em>don’t use JavaScript for something that must never fail</em>. Different
languages can be used for different things, and they’re all built with different
purposes in mind. Nobody would dream of using JavaScript to pilot an aircraft.
If you really need a proof of correctness for everything you write, then maybe
it isn’t for you.</p>

<p>The focus of languages like JavaScript that explicitly use dynamic typing is not
prevention of user error, but better polymorphism and prototype-based
data - promoting code re-use. Its purpose is not to reduce errors for people
that don’t know how to use it, but to improve productivity and make it
<em>faster and easier to write</em> for those that do. Just because you can’t implement
<a href="https://github.com/kubernetes/kubernetes/blob/ec2e767e59395376fa191d7c56a74f53936b7653/pkg/controller/volume/persistentvolume/pv_controller.go#L55">space shuttle style</a>
in a program doesn’t mean you shouldn’t write it. Not everything has to be
stable - code changes over time, and you should write it in a way which enables
that, not restricts it.</p>

<p>With proper documentation and source control, code reviews and test driven
development can catch the issues that would be caused by dynamic typing before
they reach production. And in the event that they do, then - in a properly
documented and organized codebase - the functionality can be changed and fixed
quickly without causing any problems or requiring a rewrite of the entire
codebase which one might experience in a language that is statically typed.</p>

<p>Dynamic typing doesn’t just bring languages a lack of stability; it allows for
useful functionality as well, which might not otherwise be possible:</p>

<ul>
  <li>
    <p>The absence of a required compilation stage means that tests can be run as
soon as your code is written, or even
<a href="https://webpack.js.org/concepts/hot-module-replacement/">while you’re writing it</a>.</p>
  </li>
  <li>
    <p>The lack of verbosity brought by dynamic typing means that common
functionality can be written quickly and without context. For example:
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy values</a> can
be used to quickly determine whether something <em>exists</em>, regardless of what it
is. The integer <code class="language-plaintext highlighter-rouge">0</code> is false, and so is an empty string. However, even though
<code class="language-plaintext highlighter-rouge">0 == '0'</code>, the string <code class="language-plaintext highlighter-rouge">'0'</code> is a truthy value and will evaluate to true.</p>
  </li>
  <li>
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">“Destructuring assignment”</a>
is also a cool example of the advantages that prototype-based data and a lack
of verbosity can bring:</p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">...</span><span class="nx">d</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">];</span>
<span class="c1">// a = 1, b = 2, c = 4, d = [4, 5]</span>
</code></pre></div>    </div>
  </li>
</ul>

<p><br />
Languages all have their own pros and cons, and “absolute stability” isn’t
always a good thing. JavaScript is fairly good at what it is used for, and its
widespread adoption means that it has a well-developed community behind it and
is easy to learn and use as a result. The fact that you can’t write a formal
inductive proof of a JavaScript function just goes to show why most programmers
aren’t mathematicians (and don’t need to be).</p>

<h2 id="workarounds">Workarounds</h2>

<p>JavaScript’s “loose equality” and type-converting comparisons are confusing at
times, but there is a clear option to just not use them. In most cases, loose
equalities (<code class="language-plaintext highlighter-rouge">2 == 2</code>) can be replaced by strict comparisons (<code class="language-plaintext highlighter-rouge">2 === 2</code>) that
only evaluate if the operands are of the same type.</p>

<p>If you need to use JavaScript, but still want enforced typing, check out the
<a href="https://www.typescriptlang.org/">TypeScript</a> project - it’s essentially a typed
version of JavaScript that can compile to vanilla JS, so you can get the best of
both worlds.</p>

          
        </div>

        
      </article>
    </main>

    <footer class="footer container" style="padding-bottom: 96px;">
	<hr>

	<div style="display: inline-block; float: right;">
		<input id="darkThemeCheckBox" type="checkbox">
		<label for="darkThemeCheckBox"></label>
		<span>Dark Theme</span>
	</div>
	<script type="text/javascript">
	    const _darkThemeCheckBoxElement = document.getElementById("darkThemeCheckBox");
	    const _darkThemeListeners = [];
	    var _darkTheme = false;
	    
	    function setDarkTheme(isDark) {
	        _darkTheme = isDark;
	        _darkThemeCheckBoxElement.checked = isDark;
			if (isDark) {
				document.body.classList.remove("--theme-light");
				document.body.classList.add("--theme-dark");
			} else {
				document.body.classList.remove("--theme-dark");
				document.body.classList.add("--theme-light");
			}
			
	        let color = isDark ? "#212121" : "#FFFFFF";
	        document.querySelector("meta[name='theme-color']").setAttribute("content", color);

			if (localStorage) {
				if (isDark)
					localStorage.setItem("darkTheme", ".");
				else localStorage.removeItem("darkTheme");
			}

			for (let i in _darkThemeListeners) {
			    _darkThemeListeners[i](isDark);
			}
	    }

	    function addDarkThemeListener(listener) {
	        _darkThemeListeners.push(listener);
	        listener(_darkTheme);
	    }
	    
		_darkThemeCheckBoxElement.addEventListener("change", function() {
			setDarkTheme(_darkThemeCheckBoxElement.checked);
		});

		setDarkTheme(localStorage && localStorage.getItem("darkTheme"));
	</script>
	
	<a class="footer__link" href="/redirects/?t=github&d=${}.github.io" target="_blank">Website Source Code</a>
	<br>
	<a class="footer__link" href="/policies/?web" target="_blank">Privacy Policy</a>
	<br>
	<a class="footer__link" href="/licenses" target="_blank">Open Source Licenses</a>
</footer>

<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
-->
  </body>
</html>
